# Demo Godot Game

This is a demo game I am writing to understand how godot, gradle, protobuf, swagger and postgresql work. The game is just an experiment and it is composed by a Front End and a Backe End.  
The communication between the Client (C#) and the Back End (Java Spring Boot) happens in both ways. To avoid keeping a list of the REST controllers made available
by the Back End I am leveraging on `gRPC` that can generate endpoints stubs out of the box. Whenever an event happens in the Back End, said event will be sent over a Socket Connection to the Front End.  

# Back End 

## Spring Profiles
The application can make use of three profiles. One can decide to enable/disable the automatic generation of migration scripts by adding removing the `autoGenerateDDL`. 
The `no-security` profile can be activated in order to bypass http basic authentication when calling the rest endpoints. The `local` profile can be used to override some of the default configurations.

## Flyway Migrations
The intent is to be able to generate sql migration automatically starting from the Java entities. For this to work the `autoGenerateDDL` must be active.

## Swagger UI
In order to reach the swagger docs, one can jump to the following URL: http://localhost:8071/swagger-ui

## gRPC
The backend exposes `gRPC` services and will be called by the Client. Due to fact that the Front End is written in `C#`, the `:protobuf` project exports the services defined in the `*.proto` file(s) are exported as `java` and `C#` classes. 

## TODO
- [ ] Secure `gRPC` services
- [ ] Make the REST endpoints only available for local testing (i.e. active by profile)
- [ ] Queue messages instead of retry when the connection to the Socket Server is not up and running 
- [ ] How to gracefully manage client disconnect and reconnect 
- [ ] It would be nice to have the peer id in each request so that the proto messages are somehow linked
- [ ] Generic exception handling for REST controllers/Service

# Front End

The Front End is basically written in `C#` because I wanted to learn a new Programming Language and this is one of the two programming languages supported by the `Godot` game engine.  

## More documentation for the Front End

Coming soon.